define(["core/js/adapt","core/js/device","libraries/mediaelement-and-player"],function(r,n){var t=$.extend({},window.mejs.MediaElementPlayer.prototype);$.extend(window.mejs.MediaElementPlayer.prototype,{detectFullscreenMode:function(){var e=this.getVendorPrefix(),n="on"+e+"fullscreenchange";return null===document[n]&&(document[n]=function(){null!==document[""===e?"fullscreenElement":e+"FullscreenElement"]?($.inview.lock("mediaelement"),r.trigger("media:fullscreen:enter")):($.inview.unlock("mediaelement"),r.trigger("media:fullscreen:exit"))}),t.detectFullscreenMode.apply(this,arguments)},getVendorPrefix:function(){var e=n.browser;return"internet explorer"===e?"ms":"microsoft edge"===e||"safari"===e?"webkit":""}})});